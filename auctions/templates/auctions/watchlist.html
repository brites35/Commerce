{% extends "auctions/layout.html" %}

{% block body %}
    <h2>Watchlist</h2>

    <div>
    {% if user.is_authenticated %}
        {% if not watchlist %}
            <p>Your watchlist is empty.</p>
        {% else %}
            <div style="display: flex; flex-wrap: wrap; gap: 12px; margin-top: 50px;">
            {% for auction in watchlist %}
                <div style="display: flex; flex-direction: column; border: 1px solid #ccc; border-radius: 8px; padding: 10px; width: 300px; background-color: white;">
                    {% if auction.image_url %}
                        <img src="{{ auction.image_url }}" alt="{{ auction.title }}" style="width: 100%; height: 200px; object-fit: contain; background-color: #ffffff;">
                    {% else %}
                        <div style="width: 100%; height: 200px; background-color: #eee; border-radius: 4px;"></div>
                    {% endif %}
                    <a href="{% url 'Auction' auction.id %}" style="font-size: 20px; margin-top: 10px;"><strong>{{ auction.title }}</strong></a>
                    <p style="flex-grow: 1;">{{ auction.description }}</p>
                    <p><strong>Price: {{ auction.current_bid }}â‚¬</strong></p>
                    <p style="font-size: 10px; color: #888;">Created {{ auction.created_at }}</p>
                </div>
            {% endfor %}
            </div>
        {% endif %}
                
    {% else %}
        <p>Please log in to view your watchlist.</p>
    {% endif %}
{% endblock %}

    
